<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>OpenAI Key Settings</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    input { width: 100%; padding: 8px; margin-top: 4px; }
    button { margin-top: 10px; padding: 6px 12px; }
    #status { color: green; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>OpenAI API Key</h2>
  <label>
    Enter your key:
    <input id="key" placeholder="sk-..." />
  </label>
  <button id="save">Save</button>
  <p id="status"></p>

  <script>
    const keyInput = document.getElementById('key');
    const status = document.getElementById('status');

    // Load existing key
    chrome.storage.sync.get('openai_api_key', (data) => {
      keyInput.value = data.openai_api_key || '';
    });

    document.getElementById('save').addEventListener('click', () => {
      const key = keyInput.value.trim();
      chrome.storage.sync.set({ openai_api_key: key }, () => {
        status.textContent = 'Saved!';
        setTimeout(() => (status.textContent = ''), 2000);
      });
    });
  </script>
</body>
</html>
